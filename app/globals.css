@import 'tailwindcss';
@import 'tw-animate-css';

:root {
  /* @link https://utopia.fyi/type/calculator?c=320,18,1.2,1600,24,1.333,6,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l|3xs-2xs|3xs-xs|3xs-s|2xs-xs|2xs-s|2xs-m|xs-s|xs-m|xs-l|s-m|s-l|s-xl|m-l|m-xl|m-2xl|l-xl|l-2xl|l-3xl|xl-2xl|xl-3xl|2xl-3xl&g=s,l,xl,12 */
  /* Space 3xs: 5px → 6px */
  --space-3xs: clamp(0.3125rem, 0.2969rem + 0.0781vw, 0.375rem);
  /* Space 2xs: 9px → 12px */
  --space-2xs: clamp(0.5625rem, 0.5156rem + 0.2344vw, 0.75rem);
  /* Space xs: 14px → 18px */
  --space-xs: clamp(0.875rem, 0.8125rem + 0.3125vw, 1.125rem);
  /* Space s: 18px → 24px */
  --space-s: clamp(1.125rem, 1.0313rem + 0.4688vw, 1.5rem);
  /* Space m: 27px → 36px */
  --space-m: clamp(1.6875rem, 1.5469rem + 0.7031vw, 2.25rem);
  /* Space l: 36px → 48px */
  --space-l: clamp(2.25rem, 2.0625rem + 0.9375vw, 3rem);
  /* Space xl: 54px → 72px */
  --space-xl: clamp(3.375rem, 3.0938rem + 1.4063vw, 4.5rem);
  /* Space 2xl: 72px → 96px */
  --space-2xl: clamp(4.5rem, 4.125rem + 1.875vw, 6rem);
  /* Space 3xl: 108px → 144px */
  --space-3xl: clamp(6.75rem, 6.1875rem + 2.8125vw, 9rem);
  /* Space 4xl: 126px → 168px */
  --space-4xl: clamp(7.875rem, 7.2188rem + 3.2813vw, 10.5rem);

  /* One-up pairs */
  /* Space 3xs-2xs: 5px → 12px */
  --space-3xs-2xs: clamp(0.3125rem, 0.2031rem + 0.5469vw, 0.75rem);
  /* Space 2xs-xs: 9px → 18px */
  --space-2xs-xs: clamp(0.5625rem, 0.4219rem + 0.7031vw, 1.125rem);
  /* Space xs-s: 14px → 24px */
  --space-xs-s: clamp(0.875rem, 0.7188rem + 0.7813vw, 1.5rem);
  /* Space s-m: 18px → 36px */
  --space-s-m: clamp(1.125rem, 0.8438rem + 1.4063vw, 2.25rem);
  /* Space m-l: 27px → 48px */
  --space-m-l: clamp(1.6875rem, 1.3594rem + 1.6406vw, 3rem);
  /* Space l-xl: 36px → 72px */
  --space-l-xl: clamp(2.25rem, 1.6875rem + 2.8125vw, 4.5rem);
  /* Space xl-2xl: 54px → 96px */
  --space-xl-2xl: clamp(3.375rem, 2.7188rem + 3.2813vw, 6rem);
  /* Space 2xl-3xl: 72px → 144px */
  --space-2xl-3xl: clamp(4.5rem, 3.375rem + 5.625vw, 9rem);
  /* Space 3xl-4xl: 108px → 168px */
  --space-3xl-4xl: clamp(6.75rem, 5.8125rem + 4.6875vw, 10.5rem);

  /* Custom pairs */
  /* Space s-l: 18px → 48px */
  --space-s-l: clamp(1.125rem, 0.6563rem + 2.3438vw, 3rem);
  /* Space 3xs-2xs: 5px → 12px */
  --space-3xs-2xs: clamp(0.3125rem, 0.2031rem + 0.5469vw, 0.75rem);
  /* Space 3xs-xs: 5px → 18px */
  --space-3xs-xs: clamp(0.3125rem, 0.1094rem + 1.0156vw, 1.125rem);
  /* Space 3xs-s: 5px → 24px */
  --space-3xs-s: clamp(0.3125rem, 0.0156rem + 1.4844vw, 1.5rem);
  /* Space 2xs-xs: 9px → 18px */
  --space-2xs-xs: clamp(0.5625rem, 0.4219rem + 0.7031vw, 1.125rem);
  /* Space 2xs-s: 9px → 24px */
  --space-2xs-s: clamp(0.5625rem, 0.3281rem + 1.1719vw, 1.5rem);
  /* Space 2xs-m: 9px → 36px */
  --space-2xs-m: clamp(0.5625rem, 0.1406rem + 2.1094vw, 2.25rem);
  /* Space xs-s: 14px → 24px */
  --space-xs-s: clamp(0.875rem, 0.7188rem + 0.7813vw, 1.5rem);
  /* Space xs-m: 14px → 36px */
  --space-xs-m: clamp(0.875rem, 0.5313rem + 1.7188vw, 2.25rem);
  /* Space xs-l: 14px → 48px */
  --space-xs-l: clamp(0.875rem, 0.3438rem + 2.6563vw, 3rem);
  /* Space s-m: 18px → 36px */
  --space-s-m: clamp(1.125rem, 0.8438rem + 1.4063vw, 2.25rem);
  /* Space s-l: 18px → 48px */
  --space-s-l: clamp(1.125rem, 0.6563rem + 2.3438vw, 3rem);
  /* Space s-xl: 18px → 72px */
  --space-s-xl: clamp(1.125rem, 0.2813rem + 4.2188vw, 4.5rem);
  /* Space m-l: 27px → 48px */
  --space-m-l: clamp(1.6875rem, 1.3594rem + 1.6406vw, 3rem);
  /* Space m-xl: 27px → 72px */
  --space-m-xl: clamp(1.6875rem, 0.9844rem + 3.5156vw, 4.5rem);
  /* Space m-2xl: 27px → 96px */
  --space-m-2xl: clamp(1.6875rem, 0.6094rem + 5.3906vw, 6rem);
  /* Space l-xl: 36px → 72px */
  --space-l-xl: clamp(2.25rem, 1.6875rem + 2.8125vw, 4.5rem);
  /* Space l-2xl: 36px → 96px */
  --space-l-2xl: clamp(2.25rem, 1.3125rem + 4.6875vw, 6rem);
  /* Space l-3xl: 36px → 144px */
  --space-l-3xl: clamp(2.25rem, 0.5625rem + 8.4375vw, 9rem);
  /* Space xl-2xl: 54px → 96px */
  --space-xl-2xl: clamp(3.375rem, 2.7188rem + 3.2813vw, 6rem);
  /* Space xl-3xl: 54px → 144px */
  --space-xl-3xl: clamp(3.375rem, 1.9688rem + 7.0313vw, 9rem);
  /* Space 2xl-4xl: 72px → 168px */
  --space-2xl-4xl: clamp(4.5rem, 3rem + 7.5vw, 10.5rem);
  /* Space l-3xl: 36px → 144px */
  --space-l-3xl: clamp(2.25rem, 0.5625rem + 8.4375vw, 9rem);
  /* Space l-4xl: 36px → 168px */
  --space-l-4xl: clamp(2.25rem, 0.1875rem + 10.3125vw, 10.5rem);

  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.147 0.004 49.25);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.147 0.004 49.25);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.147 0.004 49.25);
  --primary: oklch(0.216 0.006 56.043);
  --primary-foreground: oklch(0.985 0.001 106.423);
  --secondary: oklch(0.97 0.001 106.424);
  --secondary-foreground: oklch(0.216 0.006 56.043);
  --muted: oklch(0.97 0.001 106.424);
  --muted-foreground: oklch(0.553 0.013 58.071);
  --accent: oklch(0.97 0.001 106.424);
  --accent-foreground: oklch(0.216 0.006 56.043);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.923 0.003 48.717);
  --input: oklch(0.923 0.003 48.717);
  --ring: oklch(0.709 0.01 56.259);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0.001 106.423);
  --sidebar-foreground: oklch(0.147 0.004 49.25);
  --sidebar-primary: oklch(0.216 0.006 56.043);
  --sidebar-primary-foreground: oklch(0.985 0.001 106.423);
  --sidebar-accent: oklch(0.97 0.001 106.424);
  --sidebar-accent-foreground: oklch(0.216 0.006 56.043);
  --sidebar-border: oklch(0.923 0.003 48.717);
  --sidebar-ring: oklch(0.709 0.01 56.259);

  --font-sans: var(--font-general-sans);
  --font-serif: var(--font-source-serif);
  --font-mono: var(--font-jetbrains-mono);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-general-sans);
  --font-serif: var(--font-source-serif);
  --font-mono: var(--font-jetbrains-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@custom-variant dark (&:where(.dark, .dark *));

/* TODO: modify accent in the html */
@layer base {
  html {
    @apply scroll-smooth;
  }

  .h0 {
    font-size: var(--space-l-3xl);
    font-family: var(--font-general-sans);
    font-weight: 700;
  }

  h1,
  .h1 {
    @apply font-sans font-bold;
    font-size: var(--step-5);
  }

  h2,
  .h2 {
    @apply font-sans font-medium;
    font-size: var(--step-4);
  }

  h3,
  .h3 {
    @apply font-sans font-medium;
    font-size: var(--step-3);
  }

  h4,
  .h4 {
    @apply font-sans font-medium;
    font-size: var(--step-2);
  }

  h5,
  .h5 {
    @apply font-sans font-medium;
    font-size: var(--step-1);
  }

  body,
  .p {
    @apply font-serif font-light;
    font-size: var(--step-0);
  }

  small,
  .small {
    @apply font-serif font-light;
    font-size: var(--step--1);
  }

  .xsmall {
    @apply font-serif font-light;
    font-size: var(--step--2);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  .text-pretty {
    text-wrap: pretty;
  }
}

@layer layout {
  .page-layout > *,
  .full-width > * {
    grid-column: content;
  }
  .page-layout,
  .full-width {
    --minimum-content-padding: 2rem;

    /** TRACK WIDTHS **/
    --full-max-width: 1fr;
    --popout-max-width: 1600px;
    --content-max-width: 1280px;
    --inset-content-max-width: 960px;
    --narrow-max-width: 640px;

    /** TRACK SIZES **/
    --full: minmax(var(--minimum-content-padding), 1fr);
    --popout: minmax(0, calc((var(--popout-max-width) - var(--content-max-width)) * 0.5));
    --content: minmax(0, calc((var(--content-max-width) - var(--inset-content-max-width)) * 0.5));
    --inset-content: minmax(
      0,
      calc((var(--inset-content-max-width) - var(--narrow-max-width)) * 0.5)
    );
    --narrow: min(var(--narrow-max-width), 100% - var(--minimum-content-padding) * 2);

    display: grid;
    grid-template-columns:
      [full-start]
      var(--full)
      [popout-start]
      var(--popout)
      [content-start]
      var(--content)
      [inset-content-start]
      var(--inset-content)
      [narrow-start]
      var(--narrow)
      [narrow-end]
      var(--inset-content)
      [inset-content-end]
      var(--content)
      [content-end]
      var(--popout)
      [popout-end]
      var(--full)
      [full-end];
  }

  /** CLASSES **/
  .full {
    grid-column: full;
  }
  .full-start {
    grid-column-start: full-start;
  }
  .full-end {
    grid-column-end: full-end;
  }

  .popout {
    grid-column: popout;
  }
  .popout-start {
    grid-column-start: popout-start;
  }
  .popout-end {
    grid-column-end: popout-end;
  }

  .content {
    grid-column: content;
  }
  .content-start {
    grid-column-start: content-start;
  }
  .content-end {
    grid-column-end: content-end;
  }

  .inset-content {
    grid-column: inset-content;
  }
  .inset-content-start {
    grid-column-start: inset-content-start;
  }
  .inset-content-end {
    grid-column-end: inset-content-end;
  }

  .narrow {
    grid-column: narrow;
  }
  .narrow-start {
    grid-column-start: narrow-start;
  }
  .narrow-end {
    grid-column-end: narrow-end;
  }

  .full-width {
    grid-column: full;
  }
  .full-content,
  .full-content-nopad {
    grid-column: full;
  }
  .full-content {
    padding-inline: var(--minimum-content-padding);
  }
}

@layer reset {
  /* Piccalilli CSS Reset https://piccalil.li/blog/a-more-modern-css-reset/ */
  /* Box sizing rules */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Prevent font size inflation */
  html {
    -moz-text-size-adjust: none;
    -webkit-text-size-adjust: none;
    text-size-adjust: none;

    interpolate-size: allow-keywords;
  }

  /* Remove default margin in favour of better control in authored CSS */
  body,
  h1,
  h2,
  h3,
  h4,
  p,
  figure,
  blockquote,
  dl,
  dd {
    margin-block-end: 0;
  }

  /* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
  ul[role='list'],
  ol[role='list'] {
    list-style: none;
  }

  /* Set core body defaults */
  body {
    min-height: 100vh;
    line-height: 1.5;
  }

  /* Set shorter line heights on headings and interactive elements */
  h1,
  h2,
  h3,
  h4,
  button,
  input,
  label {
    line-height: 1.1;
    font-family: var(--font-general-sans);
  }

  /* Balance text wrapping on headings */
  h1,
  h2,
  h3,
  h4 {
    text-wrap: balance;
  }

  /* A elements that don't have a class get default styles */
  a:not([class]) {
    text-decoration-skip-ink: auto;
    color: currentColor;
  }

  /* Make images easier to work with */
  img,
  picture {
    max-width: 100%;
    display: block;
  }

  /* Inherit fonts for inputs and buttons */
  input,
  button,
  textarea,
  select {
    font-family: inherit;
    font-size: inherit;
  }

  /* Make sure textareas without a rows attribute are not tiny */
  textarea:not([rows]) {
    min-height: 10em;
  }

  /* Anything that has been anchored to should have extra scroll margin */
  :target {
    scroll-margin-block: 32px;
    scroll-margin-block: 5rlh;
  }

  p,
  li,
  figcaption {
    text-wrap: pretty;
    max-width: 65ch;
    font-family: var(--font-source-serif);
  }

  header,
  footer,
  main,
  section,
  article {
    container-type: inline-size;
  }

  td,
  math,
  time[datetime*=':'] {
    font-variant-numeric: tabular-nums lining-nums;
  }

  table {
    border-collapse: collapse;
  }

  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
}

.dark {
  --background: oklch(0.147 0.004 49.25);
  --foreground: oklch(0.985 0.001 106.423);
  --card: oklch(0.216 0.006 56.043);
  --card-foreground: oklch(0.985 0.001 106.423);
  --popover: oklch(0.216 0.006 56.043);
  --popover-foreground: oklch(0.985 0.001 106.423);
  --primary: oklch(0.923 0.003 48.717);
  --primary-foreground: oklch(0.216 0.006 56.043);
  --secondary: oklch(0.268 0.007 34.298);
  --secondary-foreground: oklch(0.985 0.001 106.423);
  --muted: oklch(0.268 0.007 34.298);
  --muted-foreground: oklch(0.709 0.01 56.259);
  --accent: oklch(0.268 0.007 34.298);
  --accent-foreground: oklch(0.985 0.001 106.423);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.553 0.013 58.071);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.216 0.006 56.043);
  --sidebar-foreground: oklch(0.985 0.001 106.423);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0.001 106.423);
  --sidebar-accent: oklch(0.268 0.007 34.298);
  --sidebar-accent-foreground: oklch(0.985 0.001 106.423);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.553 0.013 58.071);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
